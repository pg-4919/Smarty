{
    "schemaVersion": 2,
    "dockerfileLines": [
        "FROM node:lts-hydrogen",

        "ARG NCI_GUILDID",
        "ARG NCI_CHANNEL_STARRED",
        "ARG NCI_CHANNEL_NEWS",
        "ARG NCI_CHANNEL_CHAT",
        "ARG NCI_CHANNEL_VERIFY",
        "ARG NCI_ROLE_HUMANS",
        "ARG NCI_ROLE_OVERRIDES",
        "ARG NCI_ROLE_BOTS",
        "ARG NCI_ADMINS",
        "ARG TOKEN",

        "ENV NCI_GUILDID=$NCI_GUILDID",
        "ENV NCI_CHANNEL_STARRED=$NCI_CHANNEL_STARRED",
        "ENV NCI_CHANNEL_NEWS=$NCI_CHANNEL_NEWS",
        "ENV NCI_CHANNEL_CHAT=$NCI_CHANNEL_CHAT",
        "ENV NCI_CHANNEL_VERIFY=$NCI_CHANNEL_VERIFY",
        "ENV NCI_ROLE_HUMANS=$NCI_ROLE_HUMANS",
        "ENV NCI_ROLE_OVERRIDES=$NCI_ROLE_OVERRIDES",
        "ENV NCI_ROLE_BOTS=$NCI_ROLE_BOTS",
        "ENV NCI_ADMINS=$NCI_ADMINS",
        "ENV TOKEN=$TOKEN",

        "RUN apt-get update -y && apt-get install -y build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev python3 python3-pip",
        "RUN pip3 install --no-cache --upgrade pip setuptools",
        "RUN mkdir -p /usr/src/app",
        "WORKDIR /usr/src/app",
        "COPY ./package.json /usr/src/app/",
        "RUN npm install && npm cache clean --force",
        "RUN corepack enable",
        "COPY ./ /usr/src/app",
        "ENV NODE_ENV production",
        "CMD [ \"npm\", \"start\" ]"
    ]
}
